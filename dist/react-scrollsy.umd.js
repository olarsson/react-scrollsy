(function(g,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("react"),require("react/jsx-runtime")):typeof define=="function"&&define.amd?define(["exports","react","react/jsx-runtime"],u):(g=typeof globalThis<"u"?globalThis:g||self,u(g["react-scrollsy"]={},g.React,g.jsxRuntime))})(this,function(g,u,O){"use strict";var y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function b(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var P={exports:{}};(function(e,t){(function(i){e.exports=i()})(function(){return function(){function i(r,o,n){function s(l,f){if(!o[l]){if(!r[l]){var p=typeof b=="function"&&b;if(!f&&p)return p(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=o[l]={exports:{}};r[l][0].call(h.exports,function(m){var w=r[l][1][m];return s(w||m)},h,h.exports,i,r,o,n)}return o[l].exports}for(var a=typeof b=="function"&&b,c=0;c<n.length;c++)s(n[c]);return s}return i}()({1:[function(i,r,o){r.exports=function(){if(typeof window>"u"||typeof navigator>"u")return function(){return 0};if(!navigator.userAgent.match(/iphone|ipod|ipad/i))return function(){return window.innerHeight};var n=Math.abs(window.orientation),s={w:0,h:0},a=function(){var c=document.createElement("div");c.style.position="fixed",c.style.height="100vh",c.style.width=0,c.style.top=0,document.documentElement.appendChild(c),s.w=n===90?c.offsetHeight:window.innerWidth,s.h=n===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null};return a(),function(){return Math.abs(window.orientation)!==90?s.h:s.w}}()},{}]},{},[1])(1)})})(P);var F=P.exports;const L=I(F);var x={},j={};Object.defineProperty(j,"__esModule",{value:!0});var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.throttle=void 0;function z(e,t){var i,r;return function(){var o=arguments,n=this;return i||(i=!0,setTimeout(function(){return i=!1},t),r=e.apply(n,o)),r}}H.throttle=z,function(e){var t=y&&y.__createBinding||(Object.create?function(r,o,n,s){s===void 0&&(s=n),Object.defineProperty(r,s,{enumerable:!0,get:function(){return o[n]}})}:function(r,o,n,s){s===void 0&&(s=n),r[s]=o[n]}),i=y&&y.__exportStar||function(r,o){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(o,n)&&t(o,r,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(j,e),i(H,e)}(x);const A=(e,t)=>{let i,r;return function(...o){const n=this;r?(i&&clearTimeout(i),i=setTimeout(()=>{Date.now()-r>=t&&(e.apply(n,o),r=Date.now())},t-(Date.now()-r))):(e.apply(n,o),r=Date.now())}},N=()=>window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,E=e=>e.clientHeight;function U(e){return new Promise(t=>{if(document.querySelector(e))return t(document.querySelector(e));const i=new MutationObserver(()=>{document.querySelector(e)&&(t(document.querySelector(e)),i.disconnect())});i.observe(document.body,{childList:!0,subtree:!0})})}const _=(e,t)=>{if(!e||!t)throw"element/container is not defined.";const i=e.getBoundingClientRect(),r=t.scrollTop-t.offsetTop;return i.top+r},V=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,S=()=>V()?L():N(),W=function(e,t,i,r,o,n){let s=0,a=0,c=0,l=0,f=0;switch(n.basedOn){case"doc":s=t.scrollHeight-t.containerHeight;break;case"vp":s=t.containerHeight,a=_(e,t.element),i==="onEnter"&&(a-=t.containerHeight);break;case"elem":a=_(e,t.element),i==="onEnter"?(s=e.scrollHeight,a-=t.containerHeight):i==="onLeave"&&(s=e.scrollHeight);break}if(r){if(r.unit==="px")c=r.distance;else if(r.unit==="%")switch(r.basedOn){case"doc":c=t.scrollHeight*(r.distance/100);break;case"vp":c=t.containerHeight*(r.distance/100);break;case"elem":c=e.scrollHeight*(r.distance/100);break}}if(o){if(o.unit==="px")l=o.distance;else if(o.unit==="%")switch(o.basedOn){case"doc":l=t.scrollHeight*(o.distance/100);break;case"vp":l=t.containerHeight*(o.distance/100);break;case"elem":c=e.scrollHeight*(o.distance/100);break}}if(n.unit==="px"&&(f=n.distance),n.unit==="%")switch(n.basedOn){case"doc":f=s*(n.distance/100);break;case"vp":f=s*(n.distance/100);break;case"elem":f=s*(n.distance/100);break}const p=a+c,d=a+f-l,h=(t.scrollTop-p)/(d-p);return{progress:Math.min(Math.max(h,0),1),scrollData:t,start:p,end:d}},C={resizeThrottle:150,trigger:"onEnter"},k={progress:0,scrollData:{containerHeight:0,element:void 0,percentProgress:0,scrollHeight:0,scrollTop:0},start:0,end:0},M=(e,t=k)=>typeof e=="function"?e&&e({scrollObject:t,children:e}):e,$=u.memo(({scrollData:e,children:t,elem:i,settings:r,onStart:o,onEnd:n})=>{const{trigger:s=C.trigger,offsetTop:a,offsetBottom:c,duration:l}=r,[f,p]=u.useState(!1),[d,h]=u.useState(!1),[m,w]=u.useState(!1);if(u.useEffect(()=>{f&&typeof o=="function"&&o()},[f]),u.useEffect(()=>{d&&typeof n=="function"&&n()},[d]),u.useEffect(()=>{i!=null&&i.current&&w(!0)},[i]),!m)return M(t,k);const q=W(i.current,e,s,a,c,l),{progress:v}=q;return v>0&&v<1&&f===!1&&typeof o=="function"&&p(!0),v<=0&&f===!0&&typeof o=="function"&&p(!1),v>=1&&d===!1&&typeof n=="function"&&h(!0),v<1&&d===!0&&typeof n=="function"&&h(!1),M(t,q)}),T=({scrollData:e,children:t})=>typeof t=="function"?t&&t({scrollData:{scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,containerHeight:e.containerHeight,percentProgress:e.percentProgress,element:e.element},children:t}):t,D=({timeout:e,setProgress:t,scrollElement:i,containerHeight:r})=>{e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(()=>{if(!i)return;const{scrollTop:o,scrollHeight:n}=i;t(o/(n-r))})},R=({children:e,customScrollingElement:t,scrollThrottle:i,resizeThrottle:r=C.resizeThrottle})=>{const o=!!t,n=o?t:document==null?void 0:document.documentElement;if(!n)throw new Error("No scrolling element found.");if(typeof window>"u")throw new Error("No window found.");const s=null,[a,c]=u.useState(o?E(n):S()),[l,f]=u.useState(0),p=()=>{c(o?E(n):S())},d=x.throttle(()=>{p()},r),h=u.useCallback(()=>{D({timeout:s,setProgress:f,scrollElement:n,containerHeight:a})},[]),m=i?A(()=>{h()},i):()=>{h()};return u.useEffect(()=>(window.addEventListener("resize",d),c(o?E(n):S()),p(),()=>{window.removeEventListener("resize",d)}),[]),u.useEffect(()=>{const w=o?n:document;return w.addEventListener("scroll",m,{passive:!0}),m(),()=>{w.removeEventListener("scroll",m)}},[a]),T({scrollData:{scrollTop:n.scrollTop,scrollHeight:n.scrollHeight,containerHeight:a,percentProgress:l,element:n},children:e})},G=({children:e,scrollThrottle:t,resizeThrottle:i})=>{const[r,o]=u.useState(!1);return u.useEffect(()=>{o(!0)},[]),r?O.jsx(R,{scrollThrottle:t,resizeThrottle:i,children:e}):T({scrollData:{scrollTop:0,scrollHeight:0,containerHeight:0,percentProgress:0,element:void 0},children:e})},B=({children:e,scrollThrottle:t,scrollingElement:i,resizeThrottle:r})=>{const[o,n]=u.useState(!1),[s,a]=u.useState(void 0),c=T({scrollData:{scrollTop:0,scrollHeight:0,containerHeight:0,percentProgress:0,element:s},children:e});return U(i).then(l=>{s||(a(l),n(!0))}),o?O.jsx(R,{scrollThrottle:t,resizeThrottle:r,customScrollingElement:s,children:e}):c};g.ScrollTracker=$,g.ScrollTrackerCustom=B,g.ScrollTrackerDocument=G,Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});
