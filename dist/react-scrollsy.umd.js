(function(p,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("react"),require("react/jsx-runtime")):typeof define=="function"&&define.amd?define(["exports","react","react/jsx-runtime"],u):(p=typeof globalThis<"u"?globalThis:p||self,u(p["react-scrollsy"]={},p.React,p.jsxRuntime))})(this,function(p,u,x){"use strict";var y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function H(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var j={exports:{}};(function(e,n){(function(i){e.exports=i()})(function(){return function(){function i(r,t,o){function s(l,f){if(!t[l]){if(!r[l]){var m=typeof H=="function"&&H;if(!f&&m)return m(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=t[l]={exports:{}};r[l][0].call(h.exports,function(g){var w=r[l][1][g];return s(w||g)},h,h.exports,i,r,t,o)}return t[l].exports}for(var a=typeof H=="function"&&H,c=0;c<o.length;c++)s(o[c]);return s}return i}()({1:[function(i,r,t){r.exports=function(){if(typeof window>"u"||typeof navigator>"u")return function(){return 0};if(!navigator.userAgent.match(/iphone|ipod|ipad/i))return function(){return window.innerHeight};var o=Math.abs(window.orientation),s={w:0,h:0},a=function(){var c=document.createElement("div");c.style.position="fixed",c.style.height="100vh",c.style.width=0,c.style.top=0,document.documentElement.appendChild(c),s.w=o===90?c.offsetHeight:window.innerWidth,s.h=o===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null};return a(),function(){return Math.abs(window.orientation)!==90?s.h:s.w}}()},{}]},{},[1])(1)})})(j);var z=j.exports;const F=L(z);var S={},_={};Object.defineProperty(_,"__esModule",{value:!0});var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.throttle=void 0;function I(e,n){var i,r;return function(){var t=arguments,o=this;return i||(i=!0,setTimeout(function(){return i=!1},n),r=e.apply(o,t)),r}}E.throttle=I,function(e){var n=y&&y.__createBinding||(Object.create?function(r,t,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return t[o]}})}:function(r,t,o,s){s===void 0&&(s=o),r[s]=t[o]}),i=y&&y.__exportStar||function(r,t){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(t,o)&&n(t,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),i(_,e),i(E,e)}(S);const C=(e,n)=>{let i,r;return function(...t){const o=this;r?(i&&clearTimeout(i),i=setTimeout(()=>{Date.now()-r>=n&&(e.apply(o,t),r=Date.now())},n-(Date.now()-r))):(e.apply(o,t),r=Date.now())}},A=()=>window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,T=e=>e.clientHeight;function N(e){return new Promise(n=>{if(document.querySelector(e))return n(document.querySelector(e));const i=new MutationObserver(()=>{document.querySelector(e)&&(n(document.querySelector(e)),i.disconnect())});i.observe(document.body,{childList:!0,subtree:!0})})}const M=(e,n)=>{if(!e||!n)throw"element/container is not defined.";const i=e.getBoundingClientRect(),r=n.scrollTop-n.offsetTop;return i.top+r},D=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,P=()=>D()?F():A(),U=function(e,n,i,r,t,o){let s=0,a=0,c=0,l=0,f=0;switch(o.basedOn){case"doc":s=n.scrollHeight-n.containerHeight;break;case"vp":s=n.containerHeight,a=M(e,n.element),i==="onEnter"&&(a-=n.containerHeight);break;case"elem":a=M(e,n.element),i==="onEnter"?(s=e.scrollHeight,a-=n.containerHeight):i==="onLeave"&&(s=e.scrollHeight);break}if(r){if(r.unit==="px")c=r.distance;else if(r.unit==="%")switch(r.basedOn){case"doc":c=n.scrollHeight*(r.distance/100);break;case"vp":c=n.containerHeight*(r.distance/100);break;case"elem":c=e.scrollHeight*(r.distance/100);break}}if(t){if(t.unit==="px")l=t.distance;else if(t.unit==="%")switch(t.basedOn){case"doc":l=n.scrollHeight*(t.distance/100);break;case"vp":l=n.containerHeight*(t.distance/100);break;case"elem":c=e.scrollHeight*(t.distance/100);break}}if(o.unit==="px"&&(f=o.distance),o.unit==="%")switch(o.basedOn){case"doc":f=s*(o.distance/100);break;case"vp":f=s*(o.distance/100);break;case"elem":f=s*(o.distance/100);break}const m=a+c,d=a+f-l,h=(n.scrollTop-m)/(d-m);return{progress:Math.min(Math.max(h,0),1),scrollData:n,start:m,end:d}},O={resizeThrottle:150,trigger:"onEnter"},k={progress:0,scrollData:{containerHeight:0,element:void 0,percentProgress:0,scrollHeight:0,scrollTop:0},start:0,end:0},R=(e,n=k)=>typeof e=="function"?e({scrollObject:n,children:e}):e,V=u.memo(({scrollData:e,children:n,elem:i,settings:r,onStart:t,onEnd:o})=>{const{trigger:s=O.trigger,offsetTop:a,offsetBottom:c,duration:l}=r,[f,m]=u.useState(!1),[d,h]=u.useState(!1),[g,w]=u.useState(!1);if(u.useEffect(()=>{f&&typeof t=="function"&&t()},[f]),u.useEffect(()=>{d&&typeof o=="function"&&o()},[d]),u.useEffect(()=>{i!=null&&i.current&&w(!0)},[i]),!g)return R(n,k);const q=U(i.current,e,s,a,c,l),{progress:v}=q;return v>0&&v<1&&f===!1&&typeof t=="function"&&m(!0),v<=0&&f===!0&&typeof t=="function"&&m(!1),v>=1&&d===!1&&typeof o=="function"&&h(!0),v<1&&d===!0&&typeof o=="function"&&h(!1),R(n,q)}),b=({scrollData:e,children:n})=>typeof n=="function"?n({scrollData:{scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,containerHeight:e.containerHeight,percentProgress:e.percentProgress,element:e.element},children:n}):n,W=({children:e,scrollThrottle:n,resizeThrottle:i})=>{const[r,t]=u.useState(!1);return u.useEffect(()=>{t(!0)},[]),r?x.jsx($,{scrollThrottle:n,resizeThrottle:i,children:e}):b({scrollData:{scrollTop:0,scrollHeight:0,containerHeight:0,percentProgress:0,element:void 0},children:e})},$=({children:e,scrollThrottle:n,resizeThrottle:i=O.resizeThrottle})=>{const r=document==null?void 0:document.documentElement;if(!r)throw new Error("No document.documentElement found.");let t=null;const[o,s]=u.useState(P()),[a,c]=u.useState(0),l=()=>{t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame(()=>{const{scrollTop:h,scrollHeight:g}=r;c(h/(g-o))})},f=()=>{s(P())},m=S.throttle(()=>{f()},i),d=n?C(()=>{l()},n):()=>{l()};return u.useEffect(()=>(window.addEventListener("resize",m),s(P()),f(),()=>{window.removeEventListener("resize",m)}),[]),u.useEffect(()=>(document.addEventListener("scroll",d,{passive:!0}),d(),()=>{document.removeEventListener("scroll",d)}),[o]),b({scrollData:{scrollTop:r.scrollTop,scrollHeight:r.scrollHeight,containerHeight:o,percentProgress:a,element:r},children:e})},G=({children:e,scrollThrottle:n,scrollingElement:i,resizeThrottle:r})=>{const[t,o]=u.useState(!1),[s,a]=u.useState(void 0),c=b({scrollData:{scrollTop:0,scrollHeight:0,containerHeight:0,percentProgress:0,element:s},children:e});return N(i).then(l=>{s||(a(l),o(!0))}),t?x.jsx(J,{scrollThrottle:n,resizeThrottle:r,customScrollingElement:s,children:e}):c},J=({children:e,customScrollingElement:n,scrollThrottle:i,resizeThrottle:r=O.resizeThrottle})=>{const t=n;if(!t)throw new Error("No custom scrolling element found.");if(typeof window>"u")throw new Error("No window found.");let o=null;const[s,a]=u.useState(T(t)),[c,l]=u.useState(0),f=()=>{o&&window.cancelAnimationFrame(o),o=window.requestAnimationFrame(()=>{const{scrollTop:g,scrollHeight:w}=t;l(g/(w-s))})},m=()=>{a(T(t))},d=S.throttle(()=>{m()},r),h=i?C(()=>{f()},i):()=>{f()};return u.useEffect(()=>(window.addEventListener("resize",d),a(T(t)),m(),()=>{window.removeEventListener("resize",d)}),[]),u.useEffect(()=>(t.addEventListener("scroll",h,{passive:!0}),h(),()=>{t.removeEventListener("scroll",h)}),[s]),b({scrollData:{scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,containerHeight:s,percentProgress:c,element:t},children:e})};p.ScrollTracker=V,p.ScrollTrackerCustom=G,p.ScrollTrackerDocument=W,Object.defineProperty(p,Symbol.toStringTag,{value:"Module"})});
