(function(h,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("react"),require("react/jsx-runtime")):typeof define=="function"&&define.amd?define(["exports","react","react/jsx-runtime"],l):(h=typeof globalThis<"u"?globalThis:h||self,l(h["react-scrollsy"]={},h.React,h.jsxRuntime))})(this,function(h,l,k){"use strict";var w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var j={exports:{}};(function(e,r){(function(n){e.exports=n()})(function(){return function(){function n(t,i,o){function s(u,f){if(!i[u]){if(!t[u]){var a=typeof v=="function"&&v;if(!f&&a)return a(u,!0);if(d)return d(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var p=i[u]={exports:{}};t[u][0].call(p.exports,function(H){var b=t[u][1][H];return s(b||H)},p,p.exports,n,t,i,o)}return i[u].exports}for(var d=typeof v=="function"&&v,c=0;c<o.length;c++)s(o[c]);return s}return n}()({1:[function(n,t,i){t.exports=function(){if(typeof window>"u"||typeof navigator>"u")return function(){return 0};if(!navigator.userAgent.match(/iphone|ipod|ipad/i))return function(){return window.innerHeight};var o=Math.abs(window.orientation),s={w:0,h:0},d=function(){var c=document.createElement("div");c.style.position="fixed",c.style.height="100vh",c.style.width=0,c.style.top=0,document.documentElement.appendChild(c),s.w=o===90?c.offsetHeight:window.innerWidth,s.h=o===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null};return d(),function(){return Math.abs(window.orientation)!==90?s.h:s.w}}()},{}]},{},[1])(1)})})(j);var R=j.exports;const z=q(R);var E={},x={};Object.defineProperty(x,"__esModule",{value:!0});var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.throttle=void 0;function L(e,r){var n,t;return function(){var i=arguments,o=this;return n||(n=!0,setTimeout(function(){return n=!1},r),t=e.apply(o,i)),t}}y.throttle=L,function(e){var r=w&&w.__createBinding||(Object.create?function(t,i,o,s){s===void 0&&(s=o),Object.defineProperty(t,s,{enumerable:!0,get:function(){return i[o]}})}:function(t,i,o,s){s===void 0&&(s=o),t[s]=i[o]}),n=w&&w.__exportStar||function(t,i){for(var o in t)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&r(i,t,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(x,e),n(y,e)}(E);const F=()=>window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,S=e=>e.clientHeight;function I(e){return new Promise(r=>{if(document.querySelector(e))return r(document.querySelector(e));const n=new MutationObserver(()=>{document.querySelector(e)&&(r(document.querySelector(e)),n.disconnect())});n.observe(document.body,{childList:!0,subtree:!0})})}const _=(e,r)=>{if(!e||!r)throw"element/container is not defined.";const n=e.getBoundingClientRect(),t=r.scrollTop-r.offsetTop;return n.top+t},A=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,T=()=>A()?z():F(),N=function(e,r,n,t,i){let o=0,s=0,d=0,c=0,u=0;switch(i.basedOn){case"doc":o=r.scrollHeight-r.containerHeight;break;case"vp":o=r.containerHeight,s=_(e,r.element)-r.containerHeight;break;case"elem":o=e.getBoundingClientRect().bottom,s=_(e,r.element)-r.containerHeight;break}if(n){if(n.unit==="px")d=n.distance;else if(n.unit==="%")switch(n.basedOn){case"doc":d=r.scrollHeight*(n.distance/100);break;case"vp":d=r.containerHeight*(n.distance/100);break;case"elem":d=e.scrollHeight*(n.distance/100);break}}if(t){if(t.unit==="px")c=t.distance;else if(t.unit==="%")switch(t.basedOn){case"doc":c=r.scrollHeight*(t.distance/100);break;case"vp":c=r.containerHeight*(t.distance/100);break;case"elem":d=e.scrollHeight*(t.distance/100);break}}if(i.unit==="px"&&(u=i.distance),i.unit==="%")switch(i.basedOn){case"doc":u=o*(i.distance/100);break;case"vp":u=o*(i.distance/100);break;case"elem":u=e.scrollHeight*(i.distance/100);break}const f=s+d,a=s+u-c,m=(r.scrollTop-f)/(a-f);return{progress:Math.min(Math.max(m,0),1),scrollData:r,start:f,end:a}},O={resizeThrottle:150},C={progress:0,scrollData:{containerHeight:0,element:void 0,percentProgress:0,scrollHeight:0,scrollTop:0},start:0,end:0},M=(e,r=C)=>typeof e=="function"?e({scrollObject:r,children:e}):e,U=l.memo(({scrollData:e,children:r,elem:n,settings:t,onStart:i,onEnd:o})=>{const{offsetTop:s,offsetBottom:d,duration:c}=t,[u,f]=l.useState(!1),[a,m]=l.useState(!1),[p,H]=l.useState(!1);if(l.useEffect(()=>{u&&typeof i=="function"&&i()},[u]),l.useEffect(()=>{a&&typeof o=="function"&&o()},[a]),l.useEffect(()=>{n!=null&&n.current&&H(!0)},[n]),!p)return M(r,C);const b=N(n.current,e,s,d,c),{progress:g}=b;return g>0&&g<1&&u===!1&&typeof i=="function"&&f(!0),g<=0&&u===!0&&typeof i=="function"&&f(!1),g>=1&&a===!1&&typeof o=="function"&&m(!0),g<1&&a===!0&&typeof o=="function"&&m(!1),M(r,b)}),P=({scrollData:e,children:r})=>typeof r=="function"?r({scrollData:{scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,containerHeight:e.containerHeight,percentProgress:e.percentProgress,element:e.element},children:r}):r,V=({children:e,resizeThrottle:r=O.resizeThrottle})=>{const n=document==null?void 0:document.documentElement;if(!n)throw new Error("No document.documentElement found.");if(typeof window>"u")throw new Error("No window found.");let t=null;const[i,o]=l.useState(T()),[s,d]=l.useState(0),c=()=>{t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame(()=>{const{scrollTop:a,scrollHeight:m}=n;d(a/(m-i))})},u=()=>{o(T())},f=E.throttle(()=>{u()},r);return l.useEffect(()=>(window.addEventListener("resize",f),o(T()),u(),()=>{window.removeEventListener("resize",f)}),[]),l.useEffect(()=>(document.addEventListener("scroll",c,{passive:!0}),c(),()=>{document.removeEventListener("scroll",c)}),[i]),P({scrollData:{scrollTop:n.scrollTop,scrollHeight:n.scrollHeight,containerHeight:i,percentProgress:s,element:n},children:e})},W=({children:e,scrollingElement:r,resizeThrottle:n=O.resizeThrottle})=>{const[t,i]=l.useState(!1),[o,s]=l.useState(null),d=P({scrollData:{scrollTop:0,scrollHeight:0,containerHeight:0,percentProgress:0,element:document.documentElement},children:e});return I(r).then(c=>{o||(s(c),i(!0))}),t?k.jsx($,{resizeThrottle:n,customScrollingElement:o,children:e}):d},$=({children:e,customScrollingElement:r,resizeThrottle:n=O.resizeThrottle})=>{const t=r;if(!t)throw new Error("No custom scrolling element found.");if(typeof window>"u")throw new Error("No window found.");let i=null;const[o,s]=l.useState(S(t)),[d,c]=l.useState(0),u=()=>{i&&window.cancelAnimationFrame(i),i=window.requestAnimationFrame(()=>{const{scrollTop:m,scrollHeight:p}=t;c(m/(p-o))})},f=()=>{s(S(t))},a=E.throttle(()=>{f()},n);return l.useEffect(()=>(window.addEventListener("resize",a),s(S(t)),f(),()=>{window.removeEventListener("resize",a)}),[]),l.useEffect(()=>(t.addEventListener("scroll",u,{passive:!0}),u(),()=>{t.removeEventListener("scroll",u)}),[o]),P({scrollData:{scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,containerHeight:o,percentProgress:d,element:t},children:e})};h.ScrollTracker=U,h.ScrollTrackerCustom=W,h.ScrollTrackerDocument=V,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});
